{
  "openapi": "3.0.0",
  "info": {
    "title": "Gateway",
    "version": "1.0",
    "license": {
      "name": "Privative"
    },
    "description": "Este servicio web y su arquitectura permite a cualquier aplicación conectarse a Placetopay para procesar transacciones, independiente del lenguaje de desarrollo.\n\nPara usar el servicio web, deberás tener un lenguaje de programación que pueda comunicarse con un servicio REST.\n\nEl método de integración contempla las operaciones básicas para el procesamiento de tarjetas no presenciales, esto es tipos de crédito, intereses, generación de OTP, autorización, reverso.\n\nA continuación se describirán cada uno de los usos y los datos requeridos en la trama para cada uno de los casos.  La respuesta para cada operación está unificada en un solo tipo de trama resultante.\n\nPor defecto el lenguaje de las respuestas es en español, si se desea cambiar es necesario enviar el parámetro `locale` en las peticiones.\n\n### Servicios\n\nTodos los consumos se realizan a la URL base, que será proporcionada por el área de operaciones y se le adiciona a dicha URL el endpoint del servicio a consumir.\n\nPor ejemplo si la URL base fuese https://placetopay.com para consumir el servicio se solicitud de información se realiza un POST con los datos del ejemplo a la URL https://placetopay.com/gateway/information",
    "contact": {
      "name": "Diego Calle",
      "email": "desarrollo@evertecinc.com"
    }
  },
  "servers": [
    {
      "url": "https://test.placetopay.com/rest/gateway",
      "description": "Pruebas Colombia"
    },
    {
      "url": "https://test.placetopay.ec/rest/gateway",
      "description": "Pruebas Ecuador"
    }
  ],
  "tags": [
    {
      "name": "Obtener información",
      "description": "Una vez se tengan los datos de la tarjeta permite determinar el flujo a seguir"
    },
    {
      "name": "Procesamiento de transacción",
      "description": "Diferentes formas de procesar una petición"
    },
    {
      "name": "Consulta de una transacción",
      "description": "Busqueda de información sobre una o más transacciones realizadas"
    },
    {
      "name": "Acciones sobre transacciones",
      "description": "Permite realizar operaciones como anulación, checkout, procesar una transacción manual"
    },
    {
      "name": "Tokenización de tarjetas",
      "description": "Permite almacenar de forma segura una tarjeta para realizar procesos de cobro automáticos posteriormente"
    },
    {
      "name": "Proceso 3DS",
      "description": "Validar la transacción mediante 3DS"
    },
    {
      "name": "Proceso OTP",
      "description": "Permite generar y posteriormente validar un One Time Password cuando se requiera"
    },
    {
      "name": "Reporte de operaciones realizadas",
      "description": "Permite obtener un reporte de todas las transacciones realizadas en un periodo de tiempo para el sitio usado"
    }
  ],
  "paths": {
    "/information": {
      "post": {
        "summary": "Solicitud de Información",
        "operationId": "post-rest-gateway-information",
        "description": "Este servicio proporciona información sobre la tarjeta del usuario que se va a procesar, tal como qué servicios son los que se usarán para ella y los tipos de crédito, si aplica, que hay para esta, si no hay tipos de crédito se retorna un arreglo vacío y si los hay, se debe iterar cada tipo de crédito con los installments que se encuentran en el arreglo.\n",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string",
                    "description": "Determina el idioma de la respuesta",
                    "example": "es-CO"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "payment": {
                    "$ref": "#/components/schemas/Payment"
                  }
                }
              },
              "examples": {
                "Ejemplo": {
                  "value": {
                    "auth": {
                      "login": "c51ce410c124a10e0db5e4b97fc2af39",
                      "tranKey": "VQOcRcVH2DfL6Y4B4SaK6yhoH/VOUveZ3xT16OQnvxE=",
                      "nonce": "NjE0OWVkODgwYjNhNw==",
                      "seed": "2021-09-21T09:34:48-05:00"
                    },
                    "payment": {
                      "reference": "1234567890",
                      "description": "Testing Payment",
                      "amount": {
                        "currency": "COP",
                        "total": 3000
                      }
                    },
                    "instrument": {
                      "card": {
                        "number": "4110760000000008"
                      }
                    },
                    "ipAddress": "127.0.0.1",
                    "userAgent": "Testing"
                  }
                }
              }
            }
          },
          "description": ""
        },
        "tags": [
          "Obtener información"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    },
                    "cardTypes": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "requiereOtp": {
                      "type": "boolean"
                    },
                    "requiereCvv2": {
                      "type": "boolean"
                    },
                    "threeDS": {
                      "type": "string",
                      "enum": [
                        "optional",
                        "required",
                        "unsupported"
                      ]
                    },
                    "credits": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Credit"
                      }
                    }
                  }
                },
                "examples": {
                  "Ejemplo": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-09-21T09:26:11-05:00"
                      },
                      "provider": "CREDIBANCO",
                      "serviceCode": "CR_VS",
                      "cardType": "C",
                      "cardTypes": [
                        "C",
                        "R",
                        "A"
                      ],
                      "displayInterest": false,
                      "requireOtp": false,
                      "requireCvv2": true,
                      "threeDS": "optional",
                      "credits": [
                        {
                          "description": "Cuotas",
                          "code": "0",
                          "groupCode": "C",
                          "type": "00",
                          "installments": [
                            1,
                            2,
                            3,
                            4,
                            5,
                            6,
                            7,
                            8,
                            9,
                            10,
                            11,
                            12,
                            13,
                            14,
                            15,
                            16,
                            17,
                            18,
                            19,
                            20,
                            21,
                            22,
                            23,
                            24,
                            25,
                            26,
                            27,
                            28,
                            29,
                            30,
                            31,
                            32,
                            33,
                            34,
                            35,
                            36
                          ]
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/process": {
      "post": {
        "summary": "Procesamiento de transacción",
        "operationId": "post-gateway-process",
        "description": "Este servicio permite que se realice el cobro a la tarjeta del usuario, los parámetros del instrument son variables, si no se pide tipo de crédito ni otp no es necesario enviar esas variables, payer es siempre requerido, buyer es opcional pero recomendado.",
        "tags": [
          "Procesamiento de transacción"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "action": {
                    "type": "string"
                  },
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "payment": {
                    "$ref": "#/components/schemas/Payment"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "payer": {
                    "$ref": "#/components/schemas/Person"
                  },
                  "buyer": {
                    "$ref": "#/components/schemas/Person"
                  },
                  "ipAddress": {
                    "type": "string"
                  },
                  "userAgent": {
                    "type": "string"
                  },
                  "additional": {
                    "type": "object",
                    "description": "Objeto dinámico clave valor de información que se desee guardar con la transacción"
                  }
                }
              },
              "examples": {
                "simple": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "cgqVhiaKSUSJmYQsXMsBqpfjz155nyKk54I66xyfuDI=",
                      "nonce": "NjBhZTllMjZjYmQxYg==",
                      "seed": "2021-05-26T14:14:46-05:00"
                    },
                    "payer": {
                      "name": "Ms. Nelle Beahan DVM",
                      "surname": "Spencer",
                      "email": "gsteuber@kling.com",
                      "documentType": "CC",
                      "document": "3154383838",
                      "mobile": "3006108300"
                    },
                    "payment": {
                      "reference": "TEST_20210526_141005",
                      "description": "Cum vitae et consequatur quas adipisci ut rem.",
                      "amount": {
                        "currency": "COP",
                        "total": 32030
                      }
                    },
                    "instrument": {
                      "card": {
                        "number": "36545400000008",
                        "expiration": "12/20",
                        "cvv": "123",
                        "installments": 2
                      }
                    },
                    "ipAddress": "190.85.90.130",
                    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"
                  }
                },
                "full": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "cgqVhiaKSUSJmYQsXMsBqpfjz155nyKk54I66xyfuDI=",
                      "nonce": "NjBhZTllMjZjYmQxYg==",
                      "seed": "2021-05-26T14:14:46-05:00"
                    },
                    "locale": "es_CO",
                    "buyer": {
                      "name": "Ms. Nelle Beahan DVM",
                      "surname": "Spencer",
                      "email": "gsteuber@kling.com",
                      "documentType": "CC",
                      "document": "1040035000",
                      "mobile": "3006108300",
                      "address": {
                        "street": "Carrera 65 #45 20",
                        "city": "Estherborough",
                        "state": "Antioquia",
                        "postalCode": "48107",
                        "country": "CO",
                        "phone": "5695155708"
                      }
                    },
                    "payment": {
                      "reference": "TEST_20210526_141005",
                      "description": "Cum vitae et consequatur quas adipisci ut rem.",
                      "amount": {
                        "taxes": [
                          {
                            "kind": "ice",
                            "amount": 2.76
                          },
                          {
                            "kind": "valueAddedTax",
                            "amount": 4.37
                          }
                        ],
                        "details": [
                          {
                            "kind": "shipping",
                            "amount": 1.15
                          },
                          {
                            "kind": "tip",
                            "amount": 1.15
                          },
                          {
                            "kind": "subtotal",
                            "amount": 23
                          }
                        ],
                        "currency": "USD",
                        "total": 32.43
                      },
                      "recurring": {
                        "periodicity": "D",
                        "interval": 7,
                        "nextPayment": "2021-05-28",
                        "maxPeriods": 4,
                        "notificationUrl": "https://dnetix.co/ping/recurring_notification"
                      },
                      "shipping": {
                        "name": "Ms. Nelle Beahan DVM",
                        "surname": "Spencer",
                        "email": "gsteuber@kling.com",
                        "documentType": "CC",
                        "document": "3154383838",
                        "mobile": "3006108300",
                        "address": {
                          "street": "278 Megane Road Apt. 109",
                          "city": "Estherborough",
                          "state": "Antioquia",
                          "postalCode": "48107",
                          "country": "US",
                          "phone": "569-515-5708 x98389"
                        }
                      }
                    },
                    "instrument": {
                      "card": {
                        "number": "36545400000008",
                        "expiration": "12/20",
                        "cvv": "123",
                        "installments": 2
                      },
                      "credit": {
                        "code": "1",
                        "type": "02",
                        "groupCode": "P",
                        "installment": 24
                      }
                    },
                    "ipAddress": "190.85.82.130",
                    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36",
                    "additional": {
                      "some_key": "Value to be stored",
                      "another_key": "Another value to be stored"
                    }
                  }
                },
                "recurring": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "cgqVhiaKSUSJmYQsXMsBqpfjz155nyKk54I66xyfuDI=",
                      "nonce": "NjBhZTllMjZjYmQxYg==",
                      "seed": "2021-05-26T14:14:46-05:00"
                    },
                    "payer": {
                      "name": "Ms. Nelle Beahan DVM",
                      "surname": "Spencer",
                      "email": "gsteuber@kling.com",
                      "documentType": "CC",
                      "document": "1040035000",
                      "mobile": "3006108300"
                    },
                    "payment": {
                      "reference": "TEST_20210526_141005",
                      "description": "Cum vitae et consequatur quas adipisci ut rem.",
                      "amount": {
                        "currency": "USD",
                        "total": 32.43
                      },
                      "recurring": {
                        "periodicity": "D",
                        "interval": 7,
                        "nextPayment": "2021-05-28",
                        "maxPeriods": 4,
                        "notificationUrl": "https://dnetix.co/ping/recurring_notification"
                      }
                    },
                    "instrument": {
                      "card": {
                        "number": "36545400000008",
                        "expiration": "12/20",
                        "cvv": "123",
                        "installments": 2
                      }
                    },
                    "ipAddress": "190.85.82.130",
                    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36",
                    "additional": {
                      "some_key": "Value to be stored",
                      "another_key": "Another value to be stored"
                    }
                  }
                },
                "3DS": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "DrpP1WcVprW55o8ireLXXWMLNP6bnEymZ9Q9W4gKioM=",
                      "nonce": "NjE0YTE5YjAwNWQ4Nw==",
                      "seed": "2021-09-21T12:43:12-05:00"
                    },
                    "payer": {
                      "name": "Diego",
                      "email": "diego.calle@placetopay.com"
                    },
                    "payment": {
                      "reference": "1234567890",
                      "amount": {
                        "currency": "USD",
                        "total": 57.8
                      }
                    },
                    "instrument": {
                      "card": {
                        "number": "5180300000000005",
                        "expiration": "12/20",
                        "cvv": "123"
                      },
                      "credit": {
                        "code": "1",
                        "type": "02",
                        "groupCode": "P",
                        "installment": 24
                      },
                      "threeDS": {
                        "id": 6700,
                        "cavv": "AJkBCSdAQQAAAsrYFSA2dDJ0eJI=",
                        "xid": "5da38c1e-def7-4085-b159-50da623d909f",
                        "eci": "02",
                        "enrolled": "Y",
                        "authenticated": "Y",
                        "version": "v2",
                        "extra": {
                          "transStatusReason": null,
                          "acsTransId": "eebcce31-abe6-4f21-bbaa-7a907d8fc187",
                          "threeDSServerTransID": "8859b5b5-f3b1-4deb-a6e5-c97e198596a5"
                        }
                      }
                    },
                    "ipAddress": "127.0.0.1",
                    "userAgent": "Testing"
                  }
                },
                "dispersion": {
                  "auth": {
                    "login": "c4ca4238a0b923820dcc509a6f75849b",
                    "tranKey": "cgqVhiaKSUSJmYQsXMsBqpfjz155nyKk54I66xyfuDI=",
                    "nonce": "NjBhZTllMjZjYmQxYg==",
                    "seed": "2021-05-26T14:14:46-05:00"
                  },
                  "payer": {
                    "name": "Diego",
                    "email": "diego.calle@placetopay.com"
                  },
                  "payment": {
                    "reference": "ON1434012-PN1433129",
                    "description": "Vuelo 50 AV2020",
                    "amount": {
                      "taxes": [
                        {
                          "kind": "airportTax",
                          "amount": 63
                        },
                        {
                          "kind": "valueAddedTax",
                          "amount": 158.47
                        }
                      ],
                      "currency": "USD",
                      "total": 1161.12
                    },
                    "dispersion": [
                      {
                        "agreement": 2,
                        "agreementType": "AIRLINE",
                        "amount": {
                          "taxes": [
                            {
                              "kind": "airportTax",
                              "amount": 163
                            },
                            {
                              "kind": "valueAddedTax",
                              "amount": 142.5
                            }
                          ],
                          "currency": "USD",
                          "total": 1055.5
                        }
                      },
                      {
                        "agreement": null,
                        "agreementType": "MERCHANT",
                        "amount": {
                          "taxes": [
                            {
                              "kind": "valueAddedTax",
                              "amount": 15.97
                            }
                          ],
                          "currency": "USD",
                          "total": 105.62
                        }
                      }
                    ]
                  },
                  "instrument": {
                    "card": {
                      "number": "4110760000000032",
                      "expiration": "12/20",
                      "cvv": "123"
                    }
                  },
                  "ipAddress": "190.85.90.130",
                  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Transaction"
                },
                "examples": {
                  "Ejemplo": {
                    "value": {
                      "status": {
                        "status": "APPROVED",
                        "reason": "00",
                        "message": "Aprobada",
                        "date": "2021-09-20T21:07:22-05:00"
                      },
                      "date": "2021-09-20T21:07:22-05:00",
                      "transactionDate": "2021-09-20T21:07:22-05:00",
                      "internalReference": 3,
                      "reference": "1234567890",
                      "paymentMethod": "ID_VS",
                      "franchise": "visa",
                      "franchiseName": "Visa",
                      "issuerName": "Testing Bank",
                      "amount": {
                        "currency": "USD",
                        "total": 57.8
                      },
                      "conversion": {
                        "from": {
                          "currency": "USD",
                          "total": 57.8
                        },
                        "to": {
                          "currency": "USD",
                          "total": 57.8
                        },
                        "factor": 1
                      },
                      "authorization": "999999",
                      "receipt": "3",
                      "type": "AUTH_ONLY",
                      "refunded": false,
                      "lastDigits": "1111",
                      "provider": "INTERDIN",
                      "discount": null,
                      "processorFields": {
                        "id": "86c6eb268c7086ec8a3201b0ec0c984a",
                        "b24": "000"
                      },
                      "additional": {
                        "merchantCode": "468231",
                        "terminalNumber": "00990101",
                        "credit": {
                          "code": "1",
                          "type": "02",
                          "groupCode": "P",
                          "installments": 24
                        },
                        "totalAmount": 63.58,
                        "interestAmount": 5.78,
                        "installmentAmount": 2.65,
                        "iceAmount": 0,
                        "batch": null,
                        "line": null,
                        "bin": "411111",
                        "expiration": "1220"
                      }
                    }
                  },
                  "[dispersion] PARTIAL_APPROVED": {
                    "status": {
                      "status": "APPROVED_PARTIAL",
                      "reason": "XX",
                      "message": "Comercio no configurado propiamente para la franquicia seleccionada",
                      "date": "2021-09-24T11:51:31-05:00"
                    },
                    "date": "2021-09-24T11:51:31-05:00",
                    "transactionDate": "2021-09-24T11:51:31-05:00",
                    "internalReference": "41",
                    "reference": "ON1434012-PN1433129",
                    "paymentMethod": "CR_VS",
                    "franchise": "visa",
                    "franchiseName": "Visa",
                    "issuerName": "BANCO DE GUAYAQUIL, S.A.",
                    "amount": {
                      "taxes": [
                        {
                          "kind": "airportTax",
                          "amount": 63,
                          "base": 0
                        },
                        {
                          "kind": "valueAddedTax",
                          "amount": 158.47,
                          "base": 0
                        }
                      ],
                      "currency": "USD",
                      "total": 1161.12
                    },
                    "conversion": {
                      "from": {
                        "currency": "USD",
                        "total": 1161.12
                      },
                      "to": {
                        "currency": "USD",
                        "total": 1161
                      },
                      "factor": 1
                    },
                    "authorization": "739877",
                    "receipt": "713329175945",
                    "type": "DISPERSION",
                    "refunded": false,
                    "lastDigits": "0032",
                    "provider": "CREDIBANCO",
                    "discount": null,
                    "processorFields": {
                      "id": "08c0284b20510c8db8dcb29137374718",
                      "b24": "XX"
                    },
                    "additional": {
                      "merchantCode": "123456",
                      "terminalNumber": "12345678",
                      "bin": "411076",
                      "expiration": "1220"
                    },
                    "dispersion": [
                      {
                        "status": {
                          "status": "APPROVED",
                          "reason": "00",
                          "message": null,
                          "date": "2021-09-24T11:51:31-05:00"
                        },
                        "agreement": 1,
                        "type": "AIRLINE",
                        "authorization": "739877",
                        "receipt": "713329175945",
                        "amount": {
                          "currency": "CLP",
                          "total": 638155.3
                        },
                        "refunded": false,
                        "paymentMethod": "PS_VS"
                      },
                      {
                        "status": {
                          "status": "FAILED",
                          "reason": "XX",
                          "message": null,
                          "date": "2021-09-24T11:51:31-05:00"
                        },
                        "agreement": null,
                        "type": "MERCHANT",
                        "authorization": "000000",
                        "receipt": null,
                        "amount": {
                          "currency": "COP",
                          "total": 297580
                        },
                        "refunded": false,
                        "paymentMethod": "CR_VS"
                      }
                    ]
                  },
                  "[dispersion] PENDING": {
                    "status": {
                      "status": "PENDING",
                      "reason": "?-",
                      "message": "Transacción pendiente",
                      "date": "2021-09-24T11:51:31-05:00"
                    },
                    "date": "2021-09-24T11:51:31-05:00",
                    "transactionDate": "2021-09-24T11:51:31-05:00",
                    "internalReference": "41",
                    "reference": "ON1434012-PN1433129",
                    "paymentMethod": "CR_VS",
                    "franchise": "visa",
                    "franchiseName": "Visa",
                    "issuerName": "BANCO DE GUAYAQUIL, S.A.",
                    "amount": {
                      "taxes": [
                        {
                          "kind": "airportTax",
                          "amount": 63,
                          "base": 0
                        },
                        {
                          "kind": "valueAddedTax",
                          "amount": 158.47,
                          "base": 0
                        }
                      ],
                      "currency": "USD",
                      "total": 1161.12
                    },
                    "conversion": {
                      "from": {
                        "currency": "USD",
                        "total": 1161.12
                      },
                      "to": {
                        "currency": "USD",
                        "total": 1161
                      },
                      "factor": 1
                    },
                    "authorization": "000000",
                    "receipt": "713329175945",
                    "type": "DISPERSION",
                    "refunded": false,
                    "lastDigits": "0032",
                    "provider": "CREDIBANCO",
                    "discount": null,
                    "processorFields": {
                      "id": "08c0284b20510c8db8dcb29137374718",
                      "b24": "XX"
                    },
                    "additional": {
                      "merchantCode": "123456",
                      "terminalNumber": "12345678",
                      "bin": "411076",
                      "expiration": "1220"
                    },
                    "dispersion": [
                      {
                        "status": {
                          "status": "PENDING",
                          "reason": "?-",
                          "message": "Transacción pendiente",
                          "date": "2021-09-24T11:51:31-05:00"
                        },
                        "agreement": 1,
                        "type": "AIRLINE",
                        "authorization": "000000",
                        "receipt": "713329175945",
                        "amount": {
                          "currency": "CLP",
                          "total": 638155.3
                        },
                        "refunded": false,
                        "paymentMethod": "PS_VS"
                      },
                      {
                        "status": {
                          "status": "PENDING_PROCESS",
                          "reason": "?-",
                          "message": null,
                          "date": "2021-09-24T11:51:31-05:00"
                        },
                        "agreement": null,
                        "type": "MERCHANT",
                        "authorization": "000000",
                        "receipt": null,
                        "amount": {
                          "currency": "COP",
                          "total": 297580
                        },
                        "refunded": false,
                        "paymentMethod": "CR_VS"
                      }
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/tokenize": {
      "post": {
        "summary": "Tokenización (tokenize)",
        "operationId": "post-gateway-tokenize",
        "description": "Este servicio permite almacenar tarjetas de crédito de manera segura, a través de una petición que contenga la información de la misma, se generará un token que puede ser usado en el servicio de procesamiento y para todos los efectos, en PlacetoPay equivale a una tarjeta de crédito, la diferencia es que se envía la estructura token en vez de card.\n\nPreviamente al consumo de este servicio se debe consultar el de información para saber si es necesario o no generar un OTP al cliente y en caso de ser necesario, solicitar el token a la persona y enviarlo en el consumo.\n",
        "tags": [
          "Tokenización de tarjetas"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "payer": {
                    "$ref": "#/components/schemas/Person"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "payment": {
                    "$ref": "#/components/schemas/Payment"
                  },
                  "ipAddress": {
                    "type": "string"
                  },
                  "userAgent": {
                    "type": "string"
                  }
                },
                "required": [
                  "instrument"
                ]
              },
              "examples": {
                "Simple": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "ytIEiMHa8W4V09lBjztshdczGcv4SvJh6VclvVa1/hI=",
                      "nonce": "NjBjYjc3YTYwZGZhYw==",
                      "seed": "2021-06-17T11:26:14-05:00"
                    },
                    "payer": {
                      "name": "Diego",
                      "surname": "Calle",
                      "email": "dnetix@yopmail.com"
                    },
                    "instrument": {
                      "card": {
                        "number": "5180300000000005",
                        "expiration": "12/18",
                        "cvv": "123",
                        "installments": 3
                      }
                    },
                    "ipAddress": "127.0.0.1",
                    "userAgent": "Testing"
                  }
                },
                "Con cobro": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "ytIEiMHa8W4V09lBjztshdczGcv4SvJh6VclvVa1/hI=",
                      "nonce": "NjBjYjc3YTYwZGZhYw==",
                      "seed": "2021-06-17T11:26:14-05:00"
                    },
                    "payer": {
                      "name": "Diego",
                      "surname": "Calle",
                      "email": "dnetix@yopmail.com"
                    },
                    "instrument": {
                      "card": {
                        "number": "5180300000000005",
                        "expiration": "12/18",
                        "cvv": "123",
                        "installments": 3
                      }
                    },
                    "payment": {
                      "reference": "TEST_PAYMENT_12345",
                      "amount": {
                        "currency": "COP",
                        "total": 100
                      }
                    },
                    "ipAddress": "127.0.0.1",
                    "userAgent": "Testing"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    },
                    "instrument": {
                      "$ref": "#/components/schemas/Instrument"
                    }
                  }
                },
                "examples": {
                  "Ok": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-06-17T11:29:37-05:00"
                      },
                      "provider": "CREDIBANCO",
                      "instrument": {
                        "token": {
                          "token": "ee1d56a192dc07e4e403cdaa2569407118a0e19dc185b1e63bad2b2edc2a3bf0",
                          "subtoken": "5172915969800005",
                          "franchise": "master",
                          "franchiseName": "Mastercard",
                          "lastDigits": "0005",
                          "validUntil": "2018-12-31"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/transaction": {
      "post": {
        "summary": "Operaciones sobre una transacción",
        "operationId": "post-gateway-transaction",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Transaction"
                },
                "examples": {
                  "Ejemplo": {
                    "value": {
                      "status": {
                        "status": "APPROVED",
                        "reason": "00",
                        "message": "Aprobada",
                        "date": "2021-09-20T21:56:29-05:00"
                      },
                      "date": "2021-09-20T21:56:29-05:00",
                      "transactionDate": "2021-09-20T21:56:29-05:00",
                      "internalReference": 455,
                      "reference": "1945768",
                      "paymentMethod": "CR_VS",
                      "franchise": "visa",
                      "franchiseName": "Visa",
                      "issuerName": "Testing Bank",
                      "amount": {
                        "taxes": [
                          {
                            "kind": "valueAddedTax",
                            "amount": 705.66,
                            "base": 0
                          }
                        ],
                        "currency": "USD",
                        "total": 3714
                      },
                      "conversion": {
                        "from": {
                          "currency": "USD",
                          "total": 3714
                        },
                        "to": {
                          "currency": "USD",
                          "total": 3714
                        },
                        "factor": 1
                      },
                      "authorization": "000000",
                      "receipt": "455",
                      "type": "CREDIT",
                      "refunded": false,
                      "lastDigits": "0008",
                      "provider": "CREDIBANCO",
                      "discount": null,
                      "processorFields": {
                        "id": "f4ec45ea4c83039384b189df2c1a6891",
                        "b24": "000"
                      },
                      "additional": {
                        "merchantCode": null,
                        "terminalNumber": null,
                        "bin": "411076",
                        "expiration": "1228",
                        "installments": 1
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Permite realizar un reverso, re-autorización, reembolso o cash out sobre una transacción existente",
        "tags": [
          "Acciones sobre transacciones"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "",
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string",
                    "example": "es-CO"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "action": {
                    "type": "string",
                    "description": "Operación a realizar sobre la transacción",
                    "enum": [
                      "reverse",
                      "refund",
                      "process",
                      "void",
                      "dispersion",
                      "pre_authorization",
                      "checkin",
                      "checkout",
                      "reauthorization"
                    ],
                    "example": "reverse"
                  },
                  "internalReference": {
                    "type": "number"
                  },
                  "authorization": {
                    "type": "string"
                  }
                },
                "required": [
                  "auth",
                  "action",
                  "internalReference"
                ]
              },
              "examples": {
                "Reverso": {
                  "value": {
                    "auth": {
                      "login": "6dd490faf9cb87a9862245da41170ff2",
                      "tranKey": "JUfKi8+W//kX43WZd8FcnNsdl7zkaeAQdmSOudWcVi0=",
                      "nonce": "MzgwYWYwMjc2ZWUzODA5YmI1MDQ1YmNjYzdlNzY1MTY=",
                      "seed": "2021-03-02T17:03:50+01:00"
                    },
                    "internalReference": 1505723583,
                    "authorization": "999999",
                    "action": "reverse"
                  }
                }
              }
            }
          },
          "description": ""
        }
      },
      "parameters": []
    },
    "/query": {
      "post": {
        "summary": "Consulta de transacción por referencia interna",
        "operationId": "post-rest-gateway-query",
        "description": "Permite consultar una transaccion.",
        "tags": [
          "Consulta de una transacción"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "internalReference": {
                    "type": "number"
                  }
                },
                "required": [
                  "auth",
                  "internalReference"
                ]
              },
              "examples": {
                "Ejemplo": {
                  "value": {
                    "auth": {
                      "login": "6dd490faf9cb87a9862245da41170ff2",
                      "tranKey": "JUfKi8+W//kX43WZd8FcnNsdl7zkaeAQdmSOudWcVi0=",
                      "nonce": "MzgwYWYwMjc2ZWUzODA5YmI1MDQ1YmNjYzdlNzY1MTY=",
                      "seed": "2021-03-02T17:03:50+01:00"
                    },
                    "internalReference": 230364
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Transaction"
                },
                "examples": {
                  "Ejemplo": {
                    "value": {
                      "status": {
                        "status": "APPROVED",
                        "reason": "00",
                        "message": "Aprobada",
                        "date": "2021-09-24T14:04:23-05:00"
                      },
                      "date": "2021-09-24T10:02:17-05:00",
                      "transactionDate": "2021-09-24T10:02:18-05:00",
                      "internalReference": 230364,
                      "reference": "800166551",
                      "paymentMethod": "ID_DN",
                      "franchise": "diners",
                      "franchiseName": "Diners",
                      "issuerName": "Diners",
                      "amount": {
                        "taxes": [
                          {
                            "kind": "valueAddedTax",
                            "amount": 0,
                            "base": 0
                          }
                        ],
                        "currency": "USD",
                        "total": 120
                      },
                      "conversion": {
                        "from": {
                          "currency": "USD",
                          "total": 120
                        },
                        "to": {
                          "currency": "USD",
                          "total": 120
                        },
                        "factor": 1
                      },
                      "authorization": "999999",
                      "receipt": "230364",
                      "type": "AUTH_ONLY",
                      "refunded": false,
                      "lastDigits": "0008",
                      "provider": "INTERDIN",
                      "discount": null,
                      "processorFields": {
                        "id": "cf3e77878a07d6e3ee667c60081dc39d",
                        "b24": "00"
                      },
                      "additional": {
                        "merchantCode": "1065152",
                        "terminalNumber": "00990099",
                        "credit": {
                          "code": 1,
                          "type": "03",
                          "groupCode": "X",
                          "installments": 3
                        },
                        "totalAmount": 120,
                        "interestAmount": 0,
                        "installmentAmount": 40,
                        "iceAmount": 0,
                        "batch": null,
                        "line": null,
                        "bin": "365454",
                        "expiration": "1122"
                      },
                      "notificationURL": "https://test.placetopay.ec/redirection/api/notify"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/search": {
      "post": {
        "summary": "Búsqueda de transacciones",
        "operationId": "post-gateway-search",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "transactions": {
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "items": {
                        "$ref": "#/components/schemas/Transaction"
                      }
                    }
                  },
                  "required": [
                    "status",
                    "transactions"
                  ]
                },
                "examples": {
                  "Ejemplo": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-09-20T21:51:59-05:00"
                      },
                      "transactions": [
                        {
                          "status": {
                            "status": "PENDING",
                            "reason": "?-",
                            "message": "Transacción pendiente",
                            "date": "2021-09-20T21:51:59-05:00"
                          },
                          "date": "2021-09-20T21:51:59-05:00",
                          "transactionDate": "2021-09-20T21:51:59-05:00",
                          "internalReference": 453,
                          "reference": "TEST_3",
                          "paymentMethod": "ID_VS",
                          "franchise": "visa",
                          "franchiseName": "Visa",
                          "issuerName": "Testing Bank",
                          "amount": {
                            "taxes": [
                              {
                                "kind": "valueAddedTax",
                                "amount": 3.27,
                                "base": 0
                              }
                            ],
                            "currency": "USD",
                            "total": 17.2
                          },
                          "conversion": {
                            "from": {
                              "currency": "USD",
                              "total": 17.2
                            },
                            "to": {
                              "currency": "USD",
                              "total": 17.2
                            },
                            "factor": 1
                          },
                          "authorization": null,
                          "receipt": null,
                          "type": "AUTH_ONLY",
                          "refunded": false,
                          "lastDigits": "0008",
                          "provider": "INTERDIN",
                          "discount": null,
                          "processorFields": {
                            "id": "a9cb4b7a7aa03f681a0545ba6807e1fc",
                            "b24": "?-"
                          },
                          "additional": {
                            "merchantCode": "000468232",
                            "terminalNumber": "00990101",
                            "credit": null,
                            "totalAmount": 17.2,
                            "interestAmount": 0,
                            "installmentAmount": 0,
                            "iceAmount": 0,
                            "batch": null,
                            "line": null,
                            "bin": "411076",
                            "expiration": "1228"
                          }
                        },
                        {
                          "status": {
                            "status": "PENDING",
                            "reason": "?-",
                            "message": "Transacción pendiente",
                            "date": "2021-09-20T21:51:59-05:00"
                          },
                          "date": "2021-09-20T21:51:59-05:00",
                          "transactionDate": "2021-09-20T21:51:59-05:00",
                          "internalReference": 452,
                          "reference": "TEST_3",
                          "paymentMethod": "ID_VS",
                          "franchise": "visa",
                          "franchiseName": "Visa",
                          "issuerName": "Testing Bank",
                          "amount": {
                            "taxes": [
                              {
                                "kind": "valueAddedTax",
                                "amount": 3.27,
                                "base": 0
                              }
                            ],
                            "details": [
                              {
                                "kind": "shipping",
                                "amount": 100
                              }
                            ],
                            "currency": "USD",
                            "total": 17.2
                          },
                          "conversion": {
                            "from": {
                              "currency": "USD",
                              "total": 17.2
                            },
                            "to": {
                              "currency": "USD",
                              "total": 17.2
                            },
                            "factor": 1
                          },
                          "authorization": null,
                          "receipt": null,
                          "type": "AUTH_ONLY",
                          "refunded": false,
                          "lastDigits": "0008",
                          "provider": "INTERDIN",
                          "discount": null,
                          "processorFields": {
                            "id": "cbc65da9667ca078dc774cad2fd510e4",
                            "b24": "?-"
                          },
                          "additional": {
                            "merchantCode": "000468232",
                            "terminalNumber": "00990101",
                            "credit": null,
                            "totalAmount": 17.2,
                            "interestAmount": 0,
                            "installmentAmount": 0,
                            "iceAmount": 0,
                            "batch": null,
                            "line": null,
                            "bin": "411076",
                            "expiration": "1228"
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "tags": [
          "Consulta de una transacción"
        ],
        "description": "Este servicio permite la búsqueda de transacciones por referencia y monto, suele utilizarse en caso de pérdida de comunicación al crear una transacción para obtener la referencia interna nuevamente.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "",
                "type": "object",
                "properties": {
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "reference": {
                    "type": "string",
                    "minLength": 1
                  },
                  "amount": {
                    "$ref": "#/components/schemas/Amount"
                  }
                },
                "required": [
                  "auth",
                  "reference",
                  "amount"
                ]
              },
              "examples": {
                "Ejemplo": {
                  "value": {
                    "auth": {
                      "login": "6dd490faf9cb87a9862245da41170ff2",
                      "tranKey": "+FSGHsW3e6WrrHcIdBmqI+j6FFeUN4bidfPL7LeZgvE=",
                      "nonce": "N2YzMGM1M2QxOTU3YzZmMzVlYmIzZTAyOGMwNjNkMmU=",
                      "seed": "2021-03-03T19:40:37+01:00"
                    },
                    "reference": "TEST_20171108_144400",
                    "amount": {
                      "currency": "COP",
                      "total": 1000
                    }
                  }
                }
              }
            }
          },
          "description": ""
        }
      },
      "parameters": []
    },
    "/interests": {
      "post": {
        "summary": "Cálculo de Intereses (solo Ecuador)",
        "operationId": "post-rest-gateway-interests",
        "description": "Este servicio se debe consumir si la tarjeta requiere que se muestren los intereses\n(displayInterest en true) y como ejemplo de esta manera se muestran los valores en el servicio de redirección.\n",
        "tags": [
          "Obtener información"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "payment": {
                    "$ref": "#/components/schemas/Payment"
                  }
                }
              },
              "examples": {
                "Consumo": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "E0gHh8C6fceHnbsLlgBq2n7nRNjr8MVPcz0um1ZYCfs=",
                      "nonce": "NjE0YjUwZGNlYjJiNA==",
                      "seed": "2021-09-22T10:50:52-05:00"
                    },
                    "payer": {
                      "name": "Diego",
                      "email": "diego.calle@placetopay.com"
                    },
                    "payment": {
                      "reference": "1234567890",
                      "amount": {
                        "currency": "USD",
                        "total": 1
                      }
                    },
                    "instrument": {
                      "card": {
                        "number": "4111111111111111",
                        "expiration": "12/20",
                        "cvv": "123"
                      },
                      "credit": {
                        "code": "1",
                        "type": "02",
                        "groupCode": "P",
                        "installment": 24
                      }
                    },
                    "ipAddress": "127.0.0.1",
                    "userAgent": "Testing"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    },
                    "values": {
                      "$ref": "#/components/schemas/InterestValues"
                    },
                    "conversion": {
                      "$ref": "#/components/schemas/AmountConversion"
                    }
                  }
                },
                "examples": {
                  "Ejemplo": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-09-22T16:08:19-05:00"
                      },
                      "provider": "INTERDIN",
                      "values": {
                        "original": 1,
                        "installment": 0.04,
                        "interest": 0.03,
                        "total": 1.03
                      },
                      "conversion": {
                        "from": {
                          "currency": "COP",
                          "total": 3000
                        },
                        "to": {
                          "currency": "USD",
                          "total": 1
                        },
                        "factor": 0.0003333333333333333
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/otp/generate": {
      "parameters": [],
      "post": {
        "summary": "Generación de OTP (solo Ecuador)",
        "operationId": "post-rest-otp-generate",
        "description": "Este servicio se consume si es necesario el otp para la tarjeta provista por el cliente (requireOtp\nen true) y debe permitirsele al usuario ingresar el OTP para enviarlo posteriormente en el\nservicio de procesamiento, a manera de ejemplo de esta manera se captura en la interfaz de\nredirección\n",
        "tags": [
          "Proceso OTP"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  }
                }
              },
              "examples": {
                "Ejemplo": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "q/7k0WUshvLEpQ5gqNWqne+ZfWXSXUP/b7T80TuAUSY=",
                      "nonce": "NjE0YTM3OGIwNjA2NA==",
                      "seed": "2021-09-21T14:50:35-05:00"
                    },
                    "payer": {
                      "name": "Diego",
                      "email": "diego.calle@evertecinc.com"
                    },
                    "payment": {
                      "reference": "1234567890",
                      "amount": {
                        "currency": "USD",
                        "total": 3
                      }
                    },
                    "instrument": {
                      "card": {
                        "number": "36545400000008",
                        "expiration": "12/20",
                        "cvv": "123"
                      }
                    },
                    "ipAddress": "127.0.0.1",
                    "userAgent": "Testing"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    }
                  }
                },
                "examples": {
                  "Ejemplo": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-09-21T14:52:28-05:00"
                      },
                      "provider": "INTERDIN"
                    }
                  },
                  "No Requerido": {
                    "value": {
                      "status": {
                        "status": "REJECTED",
                        "reason": "NR",
                        "message": "OTP is not required with this card",
                        "date": "2021-09-21T14:53:21-05:00"
                      },
                      "provider": "INTERDIN"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/otp/validate": {
      "post": {
        "summary": "Validación de OTP (solo Ecuador)",
        "operationId": "post-rest-otp-validate",
        "description": "Permite validar que el OTP provisto concuerde con el enviado por el proveedor y proporcionará una firma que sirve para autenticar la transacción\n\n<!-- theme: warning -->\n> Nota Importante\n>\n> Es necesario enviar el valor retornado como `signature` en la respuesta como `instrument.otp` en la petición de procesamiento para que se registre en la transacción\n",
        "tags": [
          "Proceso OTP"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "payment": {
                    "$ref": "#/components/schemas/Payment"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "provider": {
                      "type": "string"
                    },
                    "signature": {
                      "type": "string",
                      "nullable": true
                    },
                    "validated": {
                      "type": "boolean"
                    }
                  }
                },
                "examples": {
                  "Ejemplo": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "OTP Validation successful",
                        "date": "2021-09-21T15:12:01-05:00"
                      },
                      "provider": "INTERDIN",
                      "signature": "a586077cd77ec2dbcb9b7f68b896368a",
                      "validated": true
                    }
                  },
                  "Errado": {
                    "value": {
                      "status": {
                        "status": "FAILED",
                        "reason": "OT1",
                        "message": "El OTP ingresado no coincide con el que se te ha provisto",
                        "date": "2021-09-21T15:14:41-05:00"
                      },
                      "provider": "INTERDIN",
                      "signature": null,
                      "validated": false
                    }
                  }
                }
              }
            }
          }
        }
      },
      "parameters": []
    },
    "/report": {
      "parameters": [],
      "post": {
        "summary": "Solicitar un reporte",
        "operationId": "post-report",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "id": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "status",
                    "id"
                  ]
                },
                "examples": {
                  "example": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La solicitud se ha procesado exitosamente",
                        "date": "2020-01-18T18:00:00-05:00"
                      },
                      "id": 1231
                    }
                  },
                  "error": {
                    "value": {
                      "status": {
                        "status": "FAILED",
                        "reason": "BR",
                        "message": "El reporte solicitado supera los 10 días",
                        "date": "2020-01-18T18:00:00-05:00"
                      },
                      "id": 0
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Permite solicitar que se genere un reporte de transacciones y retorna un identificador para el proceso, el cúal una vez sea llamado el callback puede ser obtenido en el endpoint siguiente",
        "tags": [
          "Reporte de operaciones realizadas"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "",
                "type": "object",
                "properties": {
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "filters": {
                    "type": "object",
                    "required": [
                      "startDate",
                      "endDate"
                    ],
                    "properties": {
                      "startDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2021-01-10T18:01:27-05:00"
                      },
                      "endDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2021-01-12T18:01:27-05:00"
                      }
                    }
                  },
                  "callbackUrl": {
                    "type": "string",
                    "format": "uri"
                  }
                },
                "required": [
                  "auth",
                  "filters"
                ]
              },
              "examples": {
                "example-1": {
                  "value": {
                    "auth": {
                      "login": "string",
                      "tranKey": "string",
                      "nonce": "string",
                      "seed": "2019-08-24T14:15:22Z"
                    },
                    "filters": {
                      "startDate": "2021-01-10T18:01:27-05:00",
                      "endDate": "2019-08-24T14:15:22-05:00"
                    },
                    "compressionFormat": "zip",
                    "callbackUrl": "http://example.com"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/report/obtain": {
      "post": {
        "summary": "Obtener un reporte previamente solicitado",
        "operationId": "post-report-obtain",
        "responses": {
          "200": {
            "description": "OK\n\nUna vez se tiene el reporte retorna la información, el cúal es un archivo separado por comas con los siguientes encabezados\n\n```\nid\ndate\ntransaction_date\nreference\ncurrency_code\namount\ntax\npayment_method\ninternal_reference\nstatus\nreason\nmerchant\nterminal\nauthorization\nrefunded\ninstallments\nlast_digits\nbank_currency\nbank_factor\nbank_amount\nissuer_name\npayer_document\npayer_first_name\npayer_last_name\npayer_email\nip_address\nbatch_number\nline_number\n```",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                },
                "examples": {
                  "example": {
                    "value": "id,date,transaction_date,reference,currency_code,amount,tax,payment_method,internal_reference,status,reason,merchant,terminal,authorization,refunded,installments,last_digits,bank_currency,bank_factor,bank_amount,issuer_name,payer_document,payer_first_name,payer_last_name,payer_email,ip_address,batch_number,line_number\nc42977b5d4ff9d9613320c7ee98e9eb0,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,4113943,USD,2327,442.13,ID_VS,221,APPROVED,,000468232,00990101,,,1,0008,USD,1,2327,Testing Bank,32694548,Miss Joanne Fadel MD,Price,blangworth@hotmail.com,237.234.250.30,,\n315c9ca9e64bed46f24a2e18bdd76468,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,8122,USD,4457,846.83,ID_VS,222,APPROVED,,000468232,00990101,,,1,0008,USD,1,4457,Testing Bank,44056172,Charlotte Maggio,Steuber,drutherford@gmail.com,164.233.22.247,,\nfd239e99125c326e92137197fd5d1959,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,753446151,USD,3798,721.62,ID_VS,223,APPROVED,,000468232,00990101,,,1,0008,USD,1,3798,Testing Bank,51751981,Mr. Abdiel Schroeder DDS,McKenzie,leonard.beier@runte.com,250.136.231.200,,\nbe945b27ff13291409b929cc9cb15274,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,482657,USD,1401,266.19,ID_VS,224,APPROVED,,000468232,00990101,,,1,0008,USD,1,1401,Testing Bank,98958097,Dr. Mia Abshire,Douglas,antonia.blanda@wyman.com,32.1.213.30,,\n3aaa74df49cf3634276675c95e49f2af,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,77616851,USD,1921,364.99,ID_VS,225,APPROVED,,000468232,00990101,,,1,0008,USD,1,1921,Testing Bank,6211299,Dr. Marcelina Huel I,Considine,vlangworth@emard.biz,249.218.136.4,,\n6e89e692975bb117db78360c8ebf0a00,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,74141,USD,773,146.87,ID_VS,226,APPROVED,,000468232,00990101,,,1,0008,USD,1,773,Testing Bank,22736252,Melody Goodwin DDS,Gerlach,iblock@ohara.com,168.87.8.132,,\nb50e4e8cca851a578fa40917030397a3,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,828,USD,473,89.87,ID_VS,227,APPROVED,,000468232,00990101,,,1,0008,USD,1,473,Testing Bank,9397147,Freeman Kirlin,Aufderhar,drobel@kshlerin.com,21.185.38.170,,\nb66ffe1bff91a15986cba677bbaeaa7f,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,581122,USD,1767,335.73,ID_VS,228,APPROVED,,000468232,00990101,,,1,0008,USD,1,1767,Testing Bank,62818359,Mrs. Rosina Mann,Schaefer,ctremblay@gmail.com,15.8.188.238,,\n135afcb2f872cf55168461e7e874242a,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,3896507,USD,7,1.33,ID_VS,229,APPROVED,,000468232,00990101,,,1,0008,USD,1,7,Testing Bank,10597030,Kristy Purdy IV,Mills,clyde68@hotmail.com,148.232.85.97,,\n19868ea1110eca766186806ef0e38f71,2021-01-13T01:54:50-05:00,2021-01-13T01:54:50-05:00,68490,USD,4987,947.53,ID_VS,230,APPROVED,,000468232,00990101,,,1,0008,USD,1,4987,Testing Bank,32385057,Mr. Harley Howe,Rogahn,oreilly.onie@hotmail.com,87.121.113.190,,"
                  }
                }
              }
            }
          },
          "425": {
            "description": "Too Early\n\nCuando la petición se realiza antes de que se termine de generar el reporte",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    }
                  },
                  "required": [
                    "status"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "",
                "type": "object",
                "properties": {
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "id": {
                    "type": "number"
                  }
                },
                "required": [
                  "auth",
                  "id"
                ]
              }
            }
          },
          "description": ""
        },
        "description": "Permite obtener un reporte previamente generado",
        "tags": [
          "Reporte de operaciones realizadas"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "gzip"
              ]
            },
            "in": "header",
            "name": "accept-encoding",
            "description": "Allows to provide gzip as a compression format"
          }
        ]
      }
    },
    "/mpi/lookup": {
      "post": {
        "summary": "3DS Lookup",
        "operationId": "post-mpi-lookup",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "x-examples": {
                    "example-1": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-09-21T11:40:03-05:00"
                      },
                      "data": {
                        "version": "v1",
                        "enrolled": "N",
                        "redirectUrl": null,
                        "identifier": null,
                        "eci": "07",
                        "formData": null
                      }
                    }
                  },
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "data": {
                      "type": "object",
                      "required": [
                        "version"
                      ],
                      "properties": {
                        "version": {
                          "type": "string",
                          "minLength": 1,
                          "enum": [
                            "v1",
                            "v2"
                          ],
                          "maxLength": 2
                        },
                        "enrolled": {
                          "type": "string",
                          "minLength": 1,
                          "enum": [
                            "N",
                            "Y",
                            "U"
                          ],
                          "maxLength": 1
                        },
                        "redirectUrl": {
                          "type": "string",
                          "description": "URL a enviar al usuario para continuar con el proceso",
                          "nullable": true
                        },
                        "identifier": {
                          "type": "string",
                          "description": "Identificador del proceso en 3DS",
                          "nullable": true
                        },
                        "eci": {
                          "type": "string",
                          "minLength": 1,
                          "nullable": true
                        },
                        "formData": {
                          "type": "object",
                          "nullable": true
                        }
                      }
                    }
                  },
                  "required": [
                    "status",
                    "data"
                  ]
                },
                "examples": {
                  "Ejemplo v1": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-09-21T11:50:46-05:00"
                      },
                      "data": {
                        "version": "v1",
                        "enrolled": "Y",
                        "redirectUrl": "https://3ds-server-to-authenticate.com/3ds",
                        "identifier": "1",
                        "eci": null,
                        "formData": null
                      }
                    }
                  },
                  "Ejemplo v2": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-09-21T12:09:36-05:00"
                      },
                      "data": {
                        "version": "v2",
                        "sessionToken": "60",
                        "redirectUrl": "https://www.google.com",
                        "identifier": "12"
                      }
                    }
                  },
                  "No usa 3DS": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-09-21T11:40:03-05:00"
                      },
                      "data": {
                        "version": "v1",
                        "enrolled": "N",
                        "redirectUrl": null,
                        "identifier": null,
                        "eci": "07",
                        "formData": null
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Realiza el proceso inicial de validación de 3DS retornando los datos para que el usuario pueda continuar con el proceso",
        "tags": [
          "Proceso 3DS"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "payment": {
                    "$ref": "#/components/schemas/Payment"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "returnUrl": {
                    "type": "string",
                    "format": "uri",
                    "maxLength": 250,
                    "description": "Url de retorno para retormar el control del usuario"
                  }
                }
              },
              "examples": {
                "Ejemplo": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "HRAM4JvfAWrlG16GLR/6yKpctY/OVC1zeekbJLSifFc=",
                      "nonce": "NjE0YTA5YjAxMzJkYw==",
                      "seed": "2021-09-21T11:34:56-05:00"
                    },
                    "payment": {
                      "reference": "1234567890",
                      "description": "Testing Payment",
                      "amount": {
                        "currency": "USD",
                        "total": 3000
                      }
                    },
                    "instrument": {
                      "card": {
                        "number": "4111111111111111",
                        "expiration": "05/24",
                        "cvv": "123"
                      }
                    },
                    "returnUrl": "https://www.your-site.com/return?reference=1234567890"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/mpi/query": {
      "post": {
        "summary": "3DS Query",
        "operationId": "post-mpi-query",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "description": "",
                  "type": "object",
                  "x-examples": {
                    "example-1": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-09-21T11:58:09-05:00"
                      },
                      "data": {
                        "id": 1,
                        "enrolled": "Y",
                        "authenticated": "Y",
                        "validSignature": true,
                        "eci": "05",
                        "cavv": "AAACCZJiUGVlF4U5AmJQEwAAAAA=",
                        "xid": "Z8UuHYF8Epz46M8V/MkGJDl2Y5E=",
                        "version": "v1"
                      }
                    }
                  },
                  "properties": {
                    "status": {
                      "$ref": "#/components/schemas/Status"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ThreeDS"
                    }
                  },
                  "required": [
                    "status",
                    "data"
                  ]
                },
                "examples": {
                  "Ejemplo v2": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-09-21T12:17:32-05:00"
                      },
                      "data": {
                        "id": 1,
                        "enrolled": "Y",
                        "authenticated": "Y",
                        "validSignature": true,
                        "eci": "05",
                        "xid": "de018c08-bd14-426a-9d52-46500a17091e=",
                        "cavv": "AAABBZEEBgAAAAAAAAQGAAAAAAA=",
                        "version": "v2",
                        "extra": {
                          "transStatusReason": null,
                          "acsTransId": "37a7b6e0-fd58-4e38-98de-79c70c526a47",
                          "threeDSServerTransID": "eadd3a60-b870-41d0-977f-921b3dbe6323/MkGJDl2Y5E="
                        }
                      }
                    }
                  },
                  "Ejemplo v1": {
                    "value": {
                      "status": {
                        "status": "OK",
                        "reason": "00",
                        "message": "La petición se ha procesado correctamente",
                        "date": "2021-09-21T12:18:37-05:00"
                      },
                      "data": {
                        "id": 1,
                        "enrolled": "Y",
                        "authenticated": "Y",
                        "validSignature": true,
                        "eci": "05",
                        "cavv": "AAACCZJiUGVlF4U5AmJQEwAAAAA=",
                        "xid": "Z8UuHYF8Epz46M8V/MkGJDl2Y5E=",
                        "version": "v1"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Una vez el usuario ha terminado el proceso de autenticación en 3DS se usa este endpoint para obtener el resultado de su operación\n\n<!-- theme: warning -->\n> ### Nota Importante\n>\n> *Al consumir este servicio **NO** se está autenticando la transacción por defecto, se debe tomar de la respuesta el valor de \"data\" y enviarlo en el \"instrument.threeDS\"*",
        "tags": [
          "Proceso 3DS"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "description": "",
                "type": "object",
                "x-examples": {
                  "example-1": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "TpLQlIz/3/85nk4tC94YOpaKlfspdcBt8PrAWmoJDhM=",
                      "nonce": "NjE0YTBlMTljZWU0ZQ==",
                      "seed": "2021-09-21T11:53:45-05:00"
                    },
                    "instrument": {
                      "card": {
                        "number": "4532840681197602",
                        "expiration": "12/20",
                        "cvv": "123"
                      }
                    },
                    "id": 1
                  }
                },
                "properties": {
                  "auth": {
                    "$ref": "#/components/schemas/Autentication"
                  },
                  "instrument": {
                    "$ref": "#/components/schemas/Instrument"
                  },
                  "id": {
                    "type": "string",
                    "description": "Identifier retornado en el lookup inicial sobre el cual se va a consultar"
                  }
                },
                "required": [
                  "auth",
                  "instrument",
                  "id"
                ]
              },
              "examples": {
                "Ejemplo": {
                  "value": {
                    "auth": {
                      "login": "c4ca4238a0b923820dcc509a6f75849b",
                      "tranKey": "TpLQlIz/3/85nk4tC94YOpaKlfspdcBt8PrAWmoJDhM=",
                      "nonce": "NjE0YTBlMTljZWU0ZQ==",
                      "seed": "2021-09-21T11:53:45-05:00"
                    },
                    "instrument": {
                      "card": {
                        "number": "4111111111111111",
                        "expiration": "05/24",
                        "cvv": "123"
                      }
                    },
                    "id": "1"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Autentication": {
        "title": "Autentication",
        "type": "object",
        "properties": {
          "login": {
            "type": "string"
          },
          "tranKey": {
            "type": "string"
          },
          "nonce": {
            "type": "string"
          },
          "seed": {
            "type": "string"
          }
        },
        "description": "Estructura que contiene la información de autenticación del sitio generada de acuerdo al WSSE\nUsernameToken Profile 1.1"
      },
      "Instrument": {
        "title": "Instrument",
        "type": "object",
        "description": "Estructura que contiene la información acerca del medio de pago a usar en una transacción, esta estructura\nes variable de acuerdo a la solicitud que se genere, cada servicio requiere que se usen unos u otros datos.",
        "properties": {
          "card": {
            "$ref": "#/components/schemas/Card"
          },
          "token": {
            "$ref": "#/components/schemas/Token"
          },
          "credit": {
            "$ref": "#/components/schemas/Credit"
          },
          "threeDS": {
            "$ref": "#/components/schemas/ThreeDS"
          },
          "otp": {
            "type": "string"
          }
        }
      },
      "Card": {
        "title": "Card",
        "type": "object",
        "description": "Estructura que contiene la información de la tarjeta.",
        "properties": {
          "number": {
            "type": "string",
            "maxLength": 20
          },
          "expiration": {
            "type": "string",
            "example": "12/22",
            "pattern": "^[01]\\d\\/\\d{2}$"
          },
          "cvv": {
            "type": "string"
          },
          "installments": {
            "type": "number"
          }
        },
        "required": [
          "number"
        ]
      },
      "Token": {
        "title": "Token",
        "type": "object",
        "description": "Estructura que contiene la información del token que asocia a la tarjeta\n\nPara la entrada solo es necesario el token o el subtoken y el cvv si se trata de una operación donde el usuario está presente\n\nPara la salida si se devuelven todos los datos al tokenizar\n",
        "properties": {
          "token": {
            "type": "string",
            "maxLength": 64,
            "minLength": 64,
            "description": "Código generado para identificar la tarjeta en el sistema"
          },
          "subtoken": {
            "type": "string",
            "maxLength": 16,
            "minLength": 16,
            "description": "Código alterno generado para identificar la tarjeta"
          },
          "franchise": {
            "type": "string",
            "enum": [
              "visa",
              "visa_electron",
              "amex",
              "master",
              "codensa",
              "diners",
              "jbc",
              "discover",
              "ris",
              "credencial",
              "comfama",
              "colsubsidio",
              "falabella",
              "elo",
              "somos",
              "tuya",
              "exito",
              "alkosto",
              "maestro",
              "mefia",
              "ath_card"
            ],
            "description": "Codigo de la franquicia asociada al token (Solo como respuesta no es necesario enviarla)"
          },
          "franchiseName": {
            "type": "string"
          },
          "issuerName": {
            "type": "string"
          },
          "lastDigits": {
            "type": "string"
          },
          "validUntil": {
            "type": "string"
          },
          "cvv": {
            "type": "string",
            "minLength": 3,
            "maxLength": 4,
            "description": "CVV solicitado al usuario en caso de que esté presente en la operación"
          }
        },
        "x-examples": {
          "Ejemplo respuesta": {
            "value": {
              "token": "e61da2ce4863a45b6491aab2964cd9c97b1d7cd508da2e813b728c88adb5f198",
              "subtoken": "1120437249520005",
              "franchise": "master",
              "franchiseName": "Mastercard",
              "lastDigits": "0005",
              "validUntil": "2018-12-31",
              "installments": "3"
            }
          },
          "Ejemplo en solicitud": {
            "value": {
              "token": "e61da2ce4863a45b6491aab2964cd9c97b1d7cd508da2e813b728c88adb5f198",
              "cvv": 123
            }
          }
        }
      },
      "Credit": {
        "title": "Credit",
        "type": "object",
        "description": "Estructura que contiene la información del tipo de crédito\n",
        "properties": {
          "code": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "groupCode": {
            "type": "string"
          },
          "installment": {
            "type": "integer"
          }
        }
      },
      "Payment": {
        "title": "Payment",
        "type": "object",
        "description": "Estructura que contiene la información acerca del pago de la transacción requerida al servicio web\n",
        "properties": {
          "reference": {
            "type": "string",
            "minLength": 1,
            "maxLength": 32
          },
          "description": {
            "type": "string",
            "maxLength": 250
          },
          "amount": {
            "$ref": "#/components/schemas/Amount"
          },
          "dispersion": {
            "$ref": "#/components/schemas/Dispersion"
          }
        }
      },
      "Amount": {
        "title": "Amount",
        "type": "object",
        "description": "Estructura que contiene la información acerca del pago de la transacción requerida al servicio web\n",
        "properties": {
          "currency": {
            "type": "string",
            "enum": [
              "USD",
              "COP",
              "CRC",
              "EUR",
              "CAD",
              "AUD",
              "GBP",
              "MXN"
            ],
            "example": "COP",
            "minLength": 3,
            "maxLength": 3
          },
          "total": {
            "type": "number"
          },
          "taxes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TaxDetail"
            }
          },
          "details": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AmountDetail"
            }
          }
        }
      },
      "TaxDetail": {
        "title": "TaxDetail",
        "type": "object",
        "description": "Estructura para almacenar información sobre un impuesto.",
        "properties": {
          "kind": {
            "type": "string",
            "example": "valueAddedTax",
            "description": "Tipo de impuesto reportado",
            "enum": [
              "valueAddedTax",
              "exciseDuty",
              "ice",
              "airportTax",
              "stateTax",
              "municipalTax",
              "reducedStateTax"
            ]
          },
          "amount": {
            "type": "number"
          },
          "base": {
            "type": "number"
          }
        }
      },
      "AmountDetail": {
        "title": "AmountDetail",
        "type": "object",
        "description": "Estructura para almacenar información sobre un valor adicional.\n",
        "properties": {
          "kind": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          }
        }
      },
      "Dispersion": {
        "title": "Dispersion",
        "type": "object",
        "description": "Estructura que contiene la información requerida para un pago de dispersión\n",
        "properties": {
          "agreement": {
            "type": "string"
          },
          "agreementType": {
            "type": "string",
            "enum": [
              "AIRLINE",
              "MERCHANT"
            ]
          },
          "amount": {
            "$ref": "#/components/schemas/Amount"
          }
        }
      },
      "Status": {
        "title": "Status",
        "type": "object",
        "description": "Estructura que contiene la información sobre una solicitud o pago, informa al estado actual de la misma.\n",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "OK",
              "FAILED",
              "APPROVED",
              "APPROVED_PARTIAL",
              "PARTIAL_EXPIRED",
              "REJECTED",
              "PENDING",
              "PENDING_VALIDATION",
              "PENDING_PROCESS",
              "REFUNDED",
              "REVERSED",
              "ERROR",
              "UNKNOWN",
              "MANUAL",
              "DISPUTE"
            ]
          },
          "reason": {
            "type": "string",
            "minLength": 1,
            "maxLength": 4
          },
          "message": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "example": "2021-09-21T09:34:48-05:00"
          }
        }
      },
      "InterestValues": {
        "title": "InterestValues",
        "type": "object",
        "description": "Estructura que contiene la información del cálculo de intereses para un tipo de crédito y monto\n",
        "properties": {
          "original": {
            "type": "number"
          },
          "installment": {
            "type": "number"
          },
          "interest": {
            "type": "number"
          },
          "total": {
            "type": "number"
          }
        }
      },
      "AmountConversion": {
        "title": "AmountConversion",
        "type": "object",
        "description": "Estructura para definir el factor de conversión y los valores.\n",
        "properties": {
          "from": {
            "$ref": "#/components/schemas/AmountBase"
          },
          "to": {
            "$ref": "#/components/schemas/AmountBase"
          },
          "factor": {
            "type": "number"
          }
        }
      },
      "AmountBase": {
        "title": "AmountBase",
        "type": "object",
        "description": "Estructura que representa una cantidad que define la moneda y el total.\n",
        "properties": {
          "currency": {
            "type": "string"
          },
          "total": {
            "type": "number"
          }
        }
      },
      "Person": {
        "title": "Person",
        "type": "object",
        "description": "Estructura que refleja la información de una persona involucrada en una transacción.\n",
        "properties": {
          "documentType": {
            "type": "string"
          },
          "Document": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "surname": {
            "type": "string"
          },
          "company": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "address": {
            "$ref": "#/components/schemas/Address"
          },
          "mobile": {
            "type": "string"
          }
        }
      },
      "Address": {
        "title": "Address",
        "type": "object",
        "description": "Estructura que contiene la información sobre una dirección física\n",
        "properties": {
          "street": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "state": {
            "type": "string"
          },
          "postalCode": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "phone": {
            "type": "string"
          }
        }
      },
      "Transaction": {
        "description": "Contiene información sobre una transacción",
        "type": "object",
        "x-examples": {
          "Ejemplo": {
            "status": {
              "status": "APPROVED",
              "reason": "00",
              "message": "Aprobada",
              "date": "2021-09-20T20:10:57-05:00"
            },
            "date": "2021-09-20T20:10:56-05:00",
            "transactionDate": "2021-09-20T20:10:56-05:00",
            "internalReference": 2,
            "reference": "1234567890",
            "paymentMethod": "DF_VS",
            "franchise": "visa",
            "franchiseName": "Visa",
            "issuerName": "Testing Bank",
            "amount": {
              "currency": "USD",
              "total": 1
            },
            "conversion": {
              "from": {
                "currency": "USD",
                "total": 1
              },
              "to": {
                "currency": "USD",
                "total": 1
              },
              "factor": 1
            },
            "authorization": "000000",
            "receipt": "2",
            "type": "AUTH_ONLY",
            "refunded": false,
            "lastDigits": "0008",
            "provider": "DATAFAST",
            "discount": null,
            "processorFields": {
              "id": "de7c331a0f5bebdd1996250296cdaf37",
              "b24": "000"
            },
            "additional": {
              "merchantCode": "1000000505",
              "terminalNumber": "PY100404",
              "credit": {
                "code": "0",
                "type": "00",
                "groupCode": "C",
                "installments": 0
              },
              "totalAmount": 1,
              "iceAmount": 0,
              "batch": null,
              "line": null,
              "bin": "411076",
              "expiration": "1221"
            }
          }
        },
        "properties": {
          "status": {
            "$ref": "#/components/schemas/Status"
          },
          "provider": {
            "type": "string",
            "enum": [
              "CREDIBANCO",
              "REDEBAN",
              "INTERDIN",
              "DATAFAST",
              "TUYA-DIRECT",
              "BRASPAG",
              "TRANSERVER",
              "SABRE",
              "EVERTEC",
              "ACH",
              "ATH-AVALNET",
              "SUPERGIROS",
              "TECNICARD",
              "MEDIANET",
              "AUSTRO",
              "COMFANDI",
              "PAYSTUDIO",
              "FLAMINGO",
              "ATH-MOVIL",
              "EBUS",
              "BANCOLOMBIA"
            ]
          },
          "internalReference": {
            "type": "number"
          },
          "reference": {
            "type": "string",
            "minLength": 1
          },
          "paymentMethod": {
            "type": "string",
            "minLength": 1
          },
          "franchise": {
            "type": "string",
            "minLength": 1
          },
          "franchiseName": {
            "type": "string",
            "minLength": 1
          },
          "issuerName": {
            "type": "string",
            "minLength": 1
          },
          "amount": {
            "$ref": "#/components/schemas/Amount"
          },
          "conversion": {
            "$ref": "#/components/schemas/AmountConversion"
          },
          "authorization": {
            "type": "string",
            "minLength": 1,
            "nullable": true
          },
          "receipt": {
            "type": "string",
            "maxLength": 16,
            "description": "",
            "nullable": true
          },
          "type": {
            "type": "string",
            "minLength": 1
          },
          "refunded": {
            "type": "boolean"
          },
          "lastDigits": {
            "type": "string",
            "minLength": 1
          },
          "additional": {
            "type": "object"
          },
          "processorFields": {
            "type": "object"
          }
        },
        "required": [
          "status",
          "provider",
          "internalReference",
          "reference",
          "paymentMethod",
          "franchise",
          "franchiseName",
          "issuerName",
          "amount",
          "conversion",
          "authorization",
          "receipt",
          "type",
          "refunded",
          "lastDigits"
        ]
      },
      "ThreeDS": {
        "description": "",
        "type": "object",
        "x-examples": {
          "example-1": {
            "id": 1,
            "enrolled": "Y",
            "authenticated": "Y",
            "validSignature": true,
            "eci": "05",
            "cavv": "AAACCZJiUGVlF4U5AmJQEwAAAAA=",
            "xid": "Z8UuHYF8Epz46M8V/MkGJDl2Y5E=",
            "version": "v1"
          }
        },
        "properties": {
          "id": {
            "type": "number"
          },
          "enrolled": {
            "type": "string",
            "minLength": 1,
            "enum": [
              "Y",
              "N",
              "U"
            ],
            "description": "Informa si la tarjeta se encuentra registrada en 3DS"
          },
          "authenticated": {
            "type": "string",
            "minLength": 1,
            "enum": [
              "Y",
              "N",
              "U",
              "A",
              "I",
              "C",
              "D",
              "R"
            ],
            "maxLength": 1
          },
          "validSignature": {
            "type": "boolean"
          },
          "eci": {
            "type": "string",
            "minLength": 1,
            "enum": [
              "02",
              "01",
              "00",
              "05",
              "06",
              "07"
            ]
          },
          "cavv": {
            "type": "string",
            "minLength": 1,
            "nullable": true
          },
          "xid": {
            "type": "string",
            "minLength": 1
          },
          "version": {
            "type": "string",
            "minLength": 1,
            "enum": [
              "v1",
              "v2"
            ]
          },
          "extra": {
            "type": "object",
            "nullable": true
          }
        },
        "required": [
          "id",
          "enrolled",
          "authenticated",
          "eci",
          "cavv",
          "xid",
          "version"
        ]
      }
    },
    "securitySchemes": {},
    "responses": {}
  }
}